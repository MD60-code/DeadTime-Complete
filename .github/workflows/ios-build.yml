name: iOS DeadTime Build

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build-ios:
    runs-on: macos-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Create iOS project structure
      run: |
        echo "🍎 Creating DeadTime iOS Project..."
        mkdir -p ios/DeadTime
        mkdir -p ios/DeadTime.xcodeproj
        
    - name: Create iOS Swift files
      run: |
        # Create AppDelegate.swift
        cat > ios/DeadTime/AppDelegate.swift << 'EOF'
        import UIKit
        import CoreLocation
        
        @main
        class AppDelegate: UIResponder, UIApplicationDelegate {
            var window: UIWindow?
            
            func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
                print("🍎 DeadTime iOS v4.0 Started!")
                
                window = UIWindow(frame: UIScreen.main.bounds)
                window?.rootViewController = ViewController()
                window?.makeKeyAndVisible()
                
                return true
            }
        }
        EOF
        
        # Create ViewController.swift  
        cat > ios/DeadTime/ViewController.swift << 'EOF'
        import UIKit
        import CoreLocation
        
        class ViewController: UIViewController, CLLocationManagerDelegate {
            private let locationManager = CLLocationManager()
            private var statusLabel: UILabel!
            private var earningsLabel: UILabel!
            private var totalEarnings: Double = 0.0
            
            override func viewDidLoad() {
                super.viewDidLoad()
                setupUI()
                setupLocationServices()
                print("💰 DeadTime iOS - Money Making Engine Loaded!")
            }
            
            private func setupUI() {
                view.backgroundColor = UIColor(red: 0.04, green: 0.04, blue: 0.1, alpha: 1.0)
                
                let titleLabel = UILabel()
                titleLabel.text = "💰 DeadTime"
                titleLabel.font = UIFont.boldSystemFont(ofSize: 32)
                titleLabel.textColor = UIColor(red: 0.0, green: 1.0, blue: 0.53, alpha: 1.0)
                titleLabel.textAlignment = .center
                titleLabel.translatesAutoresizingMaskIntoConstraints = false
                view.addSubview(titleLabel)
                
                statusLabel = UILabel()
                statusLabel.text = "🔍 Detecting opportunities..."
                statusLabel.font = UIFont.systemFont(ofSize: 18)
                statusLabel.textColor = .white
                statusLabel.textAlignment = .center
                statusLabel.numberOfLines = 0
                statusLabel.layer.cornerRadius = 8
                statusLabel.backgroundColor = UIColor(red: 0.1, green: 0.1, blue: 0.2, alpha: 1.0)
                statusLabel.translatesAutoresizingMaskIntoConstraints = false
                view.addSubview(statusLabel)
                
                earningsLabel = UILabel()
                earningsLabel.text = "Total Earned: €0.00"
                earningsLabel.font = UIFont.boldSystemFont(ofSize: 24)
                earningsLabel.textColor = UIColor(red: 0.0, green: 1.0, blue: 0.53, alpha: 1.0)
                earningsLabel.textAlignment = .center
                earningsLabel.translatesAutoresizingMaskIntoConstraints = false
                view.addSubview(earningsLabel)
                
                NSLayoutConstraint.activate([
                    titleLabel.centerXAnchor.constraint(equalTo: view.centerXAnchor),
                    titleLabel.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor, constant: 50),
                    
                    statusLabel.centerXAnchor.constraint(equalTo: view.centerXAnchor),
                    statusLabel.centerYAnchor.constraint(equalTo: view.centerYAnchor),
                    statusLabel.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 20),
                    statusLabel.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -20),
                    statusLabel.heightAnchor.constraint(equalToConstant: 100),
                    
                    earningsLabel.centerXAnchor.constraint(equalTo: view.centerXAnchor),
                    earningsLabel.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor, constant: -50)
                ])
            }
            
            private func setupLocationServices() {
                locationManager.delegate = self
                locationManager.requestWhenInUseAuthorization()
                locationManager.startUpdatingLocation()
            }
            
            func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {
                guard let location = locations.last else { return }
                
                // Simulate money-making opportunity detection
                let opportunity = detectOpportunity(at: location)
                updateUI(with: opportunity)
            }
            
            private func detectOpportunity(at location: CLLocation) -> (amount: Double, description: String) {
                let opportunities = [
                    (12.50, "🏥 Hospital waiting area detected"),
                    (8.75, "🚌 Bus stop opportunity found"),
                    (15.25, "📋 Queue detected - Premium rate"),
                    (6.50, "☕ Cafe waiting time"),
                    (20.00, "✈️ Airport terminal - High value")
                ]
                
                return opportunities.randomElement() ?? (5.00, "🎯 General opportunity")
            }
            
            private func updateUI(with opportunity: (amount: Double, description: String)) {
                DispatchQueue.main.async {
                    self.totalEarnings += opportunity.amount
                    self.statusLabel.text = "💰 \(opportunity.description)\n+€\(String(format: "%.2f", opportunity.amount))"
                    self.earningsLabel.text = "Total Earned: €\(String(format: "%.2f", self.totalEarnings))"
                    
                    self.statusLabel.backgroundColor = UIColor(red: 0.0, green: 0.6, blue: 0.3, alpha: 1.0)
                    
                    // Reset after 3 seconds
                    DispatchQueue.main.asyncAfter(deadline: .now() + 3) {
                        self.statusLabel.text = "🔍 Scanning for new opportunities..."
                        self.statusLabel.backgroundColor = UIColor(red: 0.1, green: 0.1, blue: 0.2, alpha: 1.0)
                    }
                }
            }
        }
        EOF
        
    - name: Create Info.plist
      run: |
        cat > ios/DeadTime/Info.plist << 'EOF'
        <?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
        <plist version="1.0">
        <dict>
            <key>CFBundleDevelopmentRegion</key>
            <string>en</string>
            <key>CFBundleDisplayName</key>
            <string>DeadTime</string>
            <key>CFBundleExecutable</key>
            <string>DeadTime</string>
            <key>CFBundleIdentifier</key>
            <string>com.deadtime.app</string>
            <key>CFBundleInfoDictionaryVersion</key>
            <string>6.0</string>
            <key>CFBundleName</key>
            <string>DeadTime</string>
            <key>CFBundleShortVersionString</key>
            <string>4.0</string>
            <key>CFBundleVersion</key>
            <string>1</string>
            <key>LSRequiresIPhoneOS</key>
            <true/>
            <key>NSLocationWhenInUseUsageDescription</key>
            <string>DeadTime needs location access to detect waiting opportunities and maximize your earnings.</string>
            <key>UIRequiredDeviceCapabilities</key>
            <array>
                <string>armv7</string>
                <string>location-services</string>
            </array>
            <key>UISupportedInterfaceOrientations</key>
            <array>
                <string>UIInterfaceOrientationPortrait</string>
            </array>
        </dict>
        </plist>
        EOF
        
    - name: Create Xcode project
      run: |
        cat > ios/DeadTime.xcodeproj/project.pbxproj << 'EOF'
        // !$*UTF8*$!
        {
            archiveVersion = 1;
            classes = {
            };
            objectVersion = 56;
            objects = {
                1A2B3C4D5E6F7890ABCD1234 /* AppDelegate.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = AppDelegate.swift; sourceTree = "<group>"; };
                1A2B3C4D5E6F7890ABCD1235 /* ViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ViewController.swift; sourceTree = "<group>"; };
                1A2B3C4D5E6F7890ABCD1236 /* Info.plist */ = {isa = PBXFileReference; lastKnownFileType = text.plist.xml; path = Info.plist; sourceTree = "<group>"; };
                1A2B3C4D5E6F7890ABCD1237 /* DeadTime.app */ = {isa = PBXFileReference; explicitFileType = wrapper.application; includeInIndex = 0; path = DeadTime.app; sourceTree = BUILT_PRODUCTS_DIR; };
                
                1A2B3C4D5E6F7890ABCD1238 /* DeadTime */ = {
                    isa = PBXGroup;
                    children = (
                        1A2B3C4D5E6F7890ABCD1234 /* AppDelegate.swift */,
                        1A2B3C4D5E6F7890ABCD1235 /* ViewController.swift */,
                        1A2B3C4D5E6F7890ABCD1236 /* Info.plist */,
                    );
                    path = DeadTime;
                    sourceTree = "<group>";
                };
                
                1A2B3C4D5E6F7890ABCD1239 /* Products */ = {
                    isa = PBXGroup;
                    children = (
                        1A2B3C4D5E6F7890ABCD1237 /* DeadTime.app */,
                    );
                    name = Products;
                    sourceTree = "<group>";
                };
                
                1A2B3C4D5E6F7890ABCD123A = {
                    isa = PBXProject;
                    attributes = {
                        LastSwiftUpdateCheck = 1500;
                        LastUpgradeCheck = 1500;
                        TargetAttributes = {
                            1A2B3C4D5E6F7890ABCD123B = {
                                CreatedOnToolsVersion = 15.0;
                            };
                        };
                    };
                    buildConfigurationList = 1A2B3C4D5E6F7890ABCD123C;
                    compatibilityVersion = "Xcode 14.0";
                    developmentRegion = en;
                    hasScannedForEncodings = 0;
                    knownRegions = (
                        en,
                        Base,
                    );
                    mainGroup = 1A2B3C4D5E6F7890ABCD123D;
                    productRefGroup = 1A2B3C4D5E6F7890ABCD1239;
                    projectDirPath = "";
                    projectRoot = "";
                    targets = (
                        1A2B3C4D5E6F7890ABCD123B /* DeadTime */,
                    );
                };
                
                1A2B3C4D5E6F7890ABCD123B /* DeadTime */ = {
                    isa = PBXNativeTarget;
                    buildConfigurationList = 1A2B3C4D5E6F7890ABCD123E;
                    buildPhases = (
                        1A2B3C4D5E6F7890ABCD123F /* Sources */,
                        1A2B3C4D5E6F7890ABCD1240 /* Frameworks */,
                        1A2B3C4D5E6F7890ABCD1241 /* Resources */,
                    );
                    buildRules = (
                    );
                    dependencies = (
                    );
                    name = DeadTime;
                    productName = DeadTime;
                    productReference = 1A2B3C4D5E6F7890ABCD1237;
                    productType = "com.apple.product-type.application";
                };
                
                1A2B3C4D5E6F7890ABCD123C /* Build configuration list for PBXProject "DeadTime" */ = {
                    isa = XCConfigurationList;
                    buildConfigurations = (
                        1A2B3C4D5E6F7890ABCD123D /* Debug */,
                        1A2B3C4D5E6F7890ABCD1242 /* Release */,
                    );
                    defaultConfigurationIsVisible = 0;
                    defaultConfigurationName = Release;
                };
                
                1A2B3C4D5E6F7890ABCD123D /* Debug */ = {
                    isa = XCBuildConfiguration;
                    buildSettings = {
                        ALWAYS_SEARCH_USER_PATHS = NO;
                        CLANG_ANALYZER_NONNULL = YES;
                        CLANG_ANALYZER_NUMBER_OBJECT_CONVERSION = YES_AGGRESSIVE;
                        CLANG_CXX_LANGUAGE_STANDARD = "gnu++20";
                        CLANG_ENABLE_MODULES = YES;
                        CLANG_ENABLE_OBJC_ARC = YES;
                        CLANG_ENABLE_OBJC_WEAK = YES;
                        CLANG_WARN_BLOCK_CAPTURE_AUTORELEASING = YES;
                        CLANG_WARN_BOOL_CONVERSION = YES;
                        CLANG_WARN_COMMA = YES;
                        CLANG_WARN_CONSTANT_CONVERSION = YES;
                        CLANG_WARN_DEPRECATED_OBJC_IMPLEMENTATIONS = YES;
                        CLANG_WARN_DIRECT_OBJC_ISA_USAGE = YES_ERROR;
                        CLANG_WARN_DOCUMENTATION_COMMENTS = YES;
                        CLANG_WARN_EMPTY_BODY = YES;
                        CLANG_WARN_ENUM_CONVERSION = YES;
                        CLANG_WARN_INFINITE_RECURSION = YES;
                        CLANG_WARN_INT_CONVERSION = YES;
                        CLANG_WARN_NON_LITERAL_NULL_CONVERSION = YES;
                        CLANG_WARN_OBJC_IMPLICIT_RETAIN_SELF = YES;
                        CLANG_WARN_OBJC_LITERAL_CONVERSION = YES;
                        CLANG_WARN_OBJC_ROOT_CLASS = YES_ERROR;
                        CLANG_WARN_QUOTED_INCLUDE_IN_FRAMEWORK_HEADER = YES;
                        CLANG_WARN_RANGE_LOOP_ANALYSIS = YES;
                        CLANG_WARN_STRICT_PROTOTYPES = YES;
                        CLANG_WARN_SUSPICIOUS_MOVE = YES;
                        CLANG_WARN_UNGUARDED_AVAILABILITY = YES_AGGRESSIVE;
                        CLANG_WARN_UNREACHABLE_CODE = YES;
                        CLANG_WARN__DUPLICATE_METHOD_MATCH = YES;
                        COPY_PHASE_STRIP = NO;
                        DEBUG_INFORMATION_FORMAT = dwarf;
                        ENABLE_STRICT_OBJC_MSGSEND = YES;
                        ENABLE_TESTABILITY = YES;
                        GCC_C_LANGUAGE_STANDARD = gnu11;
                        GCC_DYNAMIC_NO_PIC = NO;
                        GCC_NO_COMMON_BLOCKS = YES;
                        GCC_OPTIMIZATION_LEVEL = 0;
                        GCC_PREPROCESSOR_DEFINITIONS = (
                            "DEBUG=1",
                            "$(inherited)",
                        );
                        GCC_WARN_64_TO_32_BIT_CONVERSION = YES;
                        GCC_WARN_ABOUT_RETURN_TYPE = YES_ERROR;
                        GCC_WARN_UNDECLARED_SELECTOR = YES;
                        GCC_WARN_UNINITIALIZED_AUTOS = YES_AGGRESSIVE;
                        GCC_WARN_UNUSED_FUNCTION = YES;
                        GCC_WARN_UNUSED_VARIABLE = YES;
                        IPHONEOS_DEPLOYMENT_TARGET = 16.0;
                        MTL_ENABLE_DEBUG_INFO = INCLUDE_SOURCE;
                        MTL_FAST_MATH = YES;
                        ONLY_ACTIVE_ARCH = YES;
                        SDKROOT = iphoneos;
                        SWIFT_ACTIVE_COMPILATION_CONDITIONS = DEBUG;
                        SWIFT_OPTIMIZATION_LEVEL = "-Onone";
                    };
                    name = Debug;
                };
                
                1A2B3C4D5E6F7890ABCD123E /* Build configuration list for PBXNativeTarget "DeadTime" */ = {
                    isa = XCConfigurationList;
                    buildConfigurations = (
                        1A2B3C4D5E6F7890ABCD1243 /* Debug */,
                        1A2B3C4D5E6F7890ABCD1244 /* Release */,
                    );
                    defaultConfigurationIsVisible = 0;
                    defaultConfigurationName = Release;
                };
                
                1A2B3C4D5E6F7890ABCD123F /* Sources */ = {
                    isa = PBXSourcesBuildPhase;
                    buildActionMask = 2147483647;
                    files = (
                        1A2B3C4D5E6F7890ABCD1245 /* AppDelegate.swift in Sources */,
                        1A2B3C4D5E6F7890ABCD1246 /* ViewController.swift in Sources */,
                    );
                    runOnlyForDeploymentPostprocessing = 0;
                };
                
                1A2B3C4D5E6F7890ABCD1240 /* Frameworks */ = {
                    isa = PBXFrameworksBuildPhase;
                    buildActionMask = 2147483647;
                    files = (
                    );
                    runOnlyForDeploymentPostprocessing = 0;
                };
                
                1A2B3C4D5E6F7890ABCD1241 /* Resources */ = {
                    isa = PBXResourcesBuildPhase;
                    buildActionMask = 2147483647;
                    files = (
                        1A2B3C4D5E6F7890ABCD1247 /* Info.plist in Resources */,
                    );
                    runOnlyForDeploymentPostprocessing = 0;
                };
                
                1A2B3C4D5E6F7890ABCD1242 /* Release */ = {
                    isa = XCBuildConfiguration;
                    buildSettings = {
                        ALWAYS_SEARCH_USER_PATHS = NO;
                        CLANG_ANALYZER_NONNULL = YES;
                        CLANG_ANALYZER_NUMBER_OBJECT_CONVERSION = YES_AGGRESSIVE;
                        CLANG_CXX_LANGUAGE_STANDARD = "gnu++20";
                        CLANG_ENABLE_MODULES = YES;
                        CLANG_ENABLE_OBJC_ARC = YES;
                        CLANG_ENABLE_OBJC_WEAK = YES;
                        CLANG_WARN_BLOCK_CAPTURE_AUTORELEASING = YES;
                        CLANG_WARN_BOOL_CONVERSION = YES;
                        CLANG_WARN_COMMA = YES;
                        CLANG_WARN_CONSTANT_CONVERSION = YES;
                        CLANG_WARN_DEPRECATED_OBJC_IMPLEMENTATIONS = YES;
                        CLANG_WARN_DIRECT_OBJC_ISA_USAGE = YES_ERROR;
                        CLANG_WARN_DOCUMENTATION_COMMENTS = YES;
                        CLANG_WARN_EMPTY_BODY = YES;
                        CLANG_WARN_ENUM_CONVERSION = YES;
                        CLANG_WARN_INFINITE_RECURSION = YES;
                        CLANG_WARN_INT_CONVERSION = YES;
                        CLANG_WARN_NON_LITERAL_NULL_CONVERSION = YES;
                        CLANG_WARN_OBJC_IMPLICIT_RETAIN_SELF = YES;
                        CLANG_WARN_OBJC_LITERAL_CONVERSION = YES;
                        CLANG_WARN_OBJC_ROOT_CLASS = YES_ERROR;
                        CLANG_WARN_QUOTED_INCLUDE_IN_FRAMEWORK_HEADER = YES;
                        CLANG_WARN_RANGE_LOOP_ANALYSIS = YES;
                        CLANG_WARN_STRICT_PROTOTYPES = YES;
                        CLANG_WARN_SUSPICIOUS_MOVE = YES;
                        CLANG_WARN_UNGUARDED_AVAILABILITY = YES_AGGRESSIVE;
                        CLANG_WARN_UNREACHABLE_CODE = YES;
                        CLANG_WARN__DUPLICATE_METHOD_MATCH = YES;
                        COPY_PHASE_STRIP = NO;
                        DEBUG_INFORMATION_FORMAT = "dwarf-with-dsym";
                        ENABLE_NS_ASSERTIONS = NO;
                        ENABLE_STRICT_OBJC_MSGSEND = YES;
                        GCC_C_LANGUAGE_STANDARD = gnu11;
                        GCC_NO_COMMON_BLOCKS = YES;
                        GCC_WARN_64_TO_32_BIT_CONVERSION = YES;
                        GCC_WARN_ABOUT_RETURN_TYPE = YES_ERROR;
                        GCC_WARN_UNDECLARED_SELECTOR = YES;
                        GCC_WARN_UNINITIALIZED_AUTOS = YES_AGGRESSIVE;
                        GCC_WARN_UNUSED_FUNCTION = YES;
                        GCC_WARN_UNUSED_VARIABLE = YES;
                        IPHONEOS_DEPLOYMENT_TARGET = 16.0;
                        MTL_ENABLE_DEBUG_INFO = NO;
                        MTL_FAST_MATH = YES;
                        SDKROOT = iphoneos;
                        SWIFT_COMPILATION_MODE = wholemodule;
                        SWIFT_OPTIMIZATION_LEVEL = "-O";
                        VALIDATE_PRODUCT = YES;
                    };
                    name = Release;
                };
                
                1A2B3C4D5E6F7890ABCD1243 /* Debug */ = {
                    isa = XCBuildConfiguration;
                    buildSettings = {
                        ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon;
                        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME = AccentColor;
                        CODE_SIGN_STYLE = Manual;
                        CURRENT_PROJECT_VERSION = 1;
                        GENERATE_INFOPLIST_FILE = YES;
                        INFOPLIST_FILE = DeadTime/Info.plist;
                        INFOPLIST_KEY_UIApplicationSupportsIndirectInputEvents = YES;
                        INFOPLIST_KEY_UILaunchStoryboardName = LaunchScreen;
                        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPad = "UIInterfaceOrientationPortrait UIInterfaceOrientationPortraitUpsideDown UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight";
                        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPhone = "UIInterfaceOrientationPortrait UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight";
                        LD_RUNPATH_SEARCH_PATHS = (
                            "$(inherited)",
                            "@executable_path/Frameworks",
                        );
                        MARKETING_VERSION = 4.0;
                        PRODUCT_BUNDLE_IDENTIFIER = com.deadtime.app;
                        PRODUCT_NAME = "$(TARGET_NAME)";
                        SWIFT_EMIT_LOC_STRINGS = YES;
                        SWIFT_VERSION = 5.0;
                        TARGETED_DEVICE_FAMILY = "1,2";
                    };
                    name = Debug;
                };
                
                1A2B3C4D5E6F7890ABCD1244 /* Release */ = {
                    isa = XCBuildConfiguration;
                    buildSettings = {
                        ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon;
                        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME = AccentColor;
                        CODE_SIGN_STYLE = Manual;
                        CURRENT_PROJECT_VERSION = 1;
                        GENERATE_INFOPLIST_FILE = YES;
                        INFOPLIST_FILE = DeadTime/Info.plist;
                        INFOPLIST_KEY_UIApplicationSupportsIndirectInputEvents = YES;
                        INFOPLIST_KEY_UILaunchStoryboardName = LaunchScreen;
                        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPad = "UIInterfaceOrientationPortrait UIInterfaceOrientationPortraitUpsideDown UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight";
                        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPhone = "UIInterfaceOrientationPortrait UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight";
                        LD_RUNPATH_SEARCH_PATHS = (
                            "$(inherited)",
                            "@executable_path/Frameworks",
                        );
                        MARKETING_VERSION = 4.0;
                        PRODUCT_BUNDLE_IDENTIFIER = com.deadtime.app;
                        PRODUCT_NAME = "$(TARGET_NAME)";
                        SWIFT_EMIT_LOC_STRINGS = YES;
                        SWIFT_VERSION = 5.0;
                        TARGETED_DEVICE_FAMILY = "1,2";
                    };
                    name = Release;
                };
                
                1A2B3C4D5E6F7890ABCD1245 /* AppDelegate.swift in Sources */ = {isa = PBXBuildFile; fileRef = 1A2B3C4D5E6F7890ABCD1234 /* AppDelegate.swift */; };
                1A2B3C4D5E6F7890ABCD1246 /* ViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 1A2B3C4D5E6F7890ABCD1235 /* ViewController.swift */; };
                1A2B3C4D5E6F7890ABCD1247 /* Info.plist in Resources */ = {isa = PBXBuildFile; fileRef = 1A2B3C4D5E6F7890ABCD1236 /* Info.plist */; };
            };
            rootObject = 1A2B3C4D5E6F7890ABCD123A /* Project object */;
        }
        EOF
        
    - name: Build iOS app
      run: |
        cd ios
        xcodebuild -project DeadTime.xcodeproj \
          -scheme DeadTime \
          -configuration Debug \
          -destination generic/platform=iOS \
          CODE_SIGN_IDENTITY="" \
          CODE_SIGNING_REQUIRED=NO \
          CODE_SIGNING_ALLOWED=NO \
          build
          
    - name: Create IPA (if successful)
      run: |
        echo "🎉 iOS DeadTime Build Completed!"
        echo "📱 App ready for deployment"
        ls -la ios/build/
        
    - name: Upload iOS app artifact
      uses: actions/upload-artifact@v4
      with:
        name: DeadTime-iOS-App
        path: ios/build/Debug-iphoneos/DeadTime.app
